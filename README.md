# hanzi-chai/svg

`hanzi-chai/svg` 是一个用于高效校对「文」数据库中笔画数据信息的工具。它依赖于以下文件：

1. 「文」数据库：待校对的和已校对的数据；
2. 苹方简极细字体：本项目唯一官方指定标准字体，横纵各 1000 像素的分辨率，笔画粗细约为 20；

# 工作流程

1. 程序启动，加载「文」数据库、苹方简极细字体和准星字体；
2. 按顺序处理「文」数据库中的部件，这里分两种情况讨论：
   1. 成字部件，将数据库中的笔画信息和该字的字体信息绘制出来；
   2. 非成字部件，将数据库中的笔画信息和该字的**源字**的字体信息绘制出来；
3. 此时用户可以自由移动笔画的各个控制点，移动时要求：
   1. 横平竖直，即移动横的一个控制点时，另一个控制点倾向于与它保持同一纵坐标，吸附范围在 10° 左右；竖同理；
   2. 交连分明，即移动控制点时，使其吸附到邻近笔画的起点、终点或中间点上；
   3. 对称性，即移动控制点时，实时检测与其对称的点并吸附到可能的对称位置上；
   4. 移近控制点时，应该显示其坐标。
4. 更改完成，用户确认后，将用户的修改；若用户取消，则丢弃修改；
5. 校对工作暂停时，程序将改动的字此前的版本盖上时间戳，将改动后的字加入数据库，重新储存到「文.yaml」中。

# 项目进展和说明

1. YAML文件可导入至前端，从前端数据可导出YAML文件。导入内容可在开发者工具中查看log。
2. 安装运行命令：
   1. 安装Node.js：https://nodejs.org/en/download/
   2. npm i
   3. npm run build
   4. npm start
   5. 打开http://localhost:8080/
